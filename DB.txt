CREATE DATABASE IF NOT EXISTS cloudy;
USE cloudy;

CREATE TABLE IF NOT EXISTS usuarios (
    password VARCHAR(100) NOT NULL,
    correo VARCHAR(100) NOT NULL PRIMARY KEY
) ENGINE = 'InnoDB';

CREATE TABLE IF NOT EXISTS archivos (
  usuario VARCHAR(100) NOT NULL,
  fecha DATE NOT NULL,
  ruta VARCHAR(100) NOT NULL,
  tipo VARCHAR(100) NOT NULL,
  CONSTRAINT fk_usuario1
  FOREIGN KEY (usuario)
	REFERENCES usuarios(correo)
		ON DELETE CASCADE
        ON UPDATE NO ACTION
)ENGINE = 'InnoDB';

CREATE TABLE IF NOT EXISTS papelera (
  usuario VARCHAR(100) NOT NULL,
  fecha DATE NOT NULL,
  ruta VARCHAR(100) NOT NULL,
  tipo VARCHAR(100) NOT NULL,
  CONSTRAINT fk_usuario2
  FOREIGN KEY (usuario)
	REFERENCES archivos(usuario)
		ON DELETE no action
        ON UPDATE NO ACTION
)ENGINE = 'InnoDB';
